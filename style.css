/* Fonts */
@import url('https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;0,700;1,400&family=Playfair+Display:wght@700&display=swap');
@font-face{font-family:'Filmotype Maxwell';src:url('FilmotypeMaxwell.otf') format('opentype');font-weight:normal;font-style:normal}

/* Vars */
:root{
  --font-sans:'Georgia',serif; --font-serif:'Georgia',serif; --font-logo:'Filmotype Maxwell','Georgia',serif;
  --color-bg:#fff; --color-text:#111; --color-border:#606a97;
  --color-subtle:#666; --nav-bg:#635673; --nav-glow:rgba(255,255,255,.30);
  --header-height:84px; --header-height-shrink:64px; --folio-h:36px;
  --mobile-menu-bg: rgba(25, 25, 30, 0.6); /* CHANGED: Added variable for 60% opaque background */
}

/* Layout */
html,body{height:100%}
body{
  margin:0; color:var(--color-text); background:var(--color-bg); line-height:1.6; font-family:var(--font-serif);
  display:flex; flex-direction:column; position:relative;
}
body::before{content:"";position:fixed;inset:0;pointer-events:none;background-image:url('https://www.shutterstock.com/image-photo/old-newspaper-background-blank-grunge-600nw-2479887711.jpg');background-size:cover;background-position:center;opacity:.05;z-index:-1}
body.index-page::after{content:""; position:fixed; inset:0; z-index:-2; background:center/cover no-repeat url('index-bg.jpg'); opacity:.25}

/* Loader handoff */
#loader-wrapper{position:fixed; inset:0; z-index:9999; background:transparent; transition: opacity .35s ease, visibility .35s ease}
#loader-wrapper iframe{width:100%; height:100%; border:0; display:block}
#loader-wrapper.hidden{opacity:0; visibility:hidden}
#main-content{flex:1 0 auto; opacity:0; transform:translateY(6px); transition: opacity .35s ease, transform .35s ease}
#main-content.fading{opacity:.95; transform:translateY(0)}
#main-content.visible{opacity:1; transform:translateY(0)}
.site-footer-main{flex-shrink:0; margin-top:auto; background:transparent}

/* Links */
a,a:visited{color:inherit;text-decoration:none}

/* Spacer for folio height */
.top-spacer{height:var(--folio-h)}

/* FOLIO */
.folio{height:var(--folio-h);display:flex;align-items:center;border-bottom:1px solid var(--color-border);background:#fff}
.folio-inner{width:100%;max-width:1200px;margin:0 auto;padding:0 1.25rem;display:flex;gap:1.75rem; align-items:center;justify-content:center;font-family:var(--font-sans);font-size:.96rem}
.folio-item{white-space:nowrap}

/* CHANGED: Folio separator style updated from vertical bar to horizontal dash */
.folio-sep {
  font-size: 0; /* Hide the original '|' character */
  color: transparent;
}
.folio-sep::before {
  content: "â€”"; /* Display an em-dash */
  font-size: 0.96rem; /* Restore font size */
  color: var(--color-text);
  opacity: 0.45;
}

/* DESKTOP HEADER / NAV (single rail) */
.site-header{
  position:sticky; top:0; z-index:1000; height:var(--header-height);
  display:flex; align-items:center; background:var(--nav-bg); color:#fff;
  border-bottom:1px solid rgba(255,255,255,.12); overflow:visible; /* allow logo to overflow */
}
.nav-scroll{
  display:flex; align-items:center;
  justify-content: center; /* CHANGED: Center the nav items when they fit */
  gap:1.1rem; padding:0 12px; /* CHANGED: Set padding to 12px per instructions */
  overflow-x:auto; overscroll-behavior-x:contain; -ms-overflow-style:none; scrollbar-width:none; cursor:grab; width:100%;
}
.nav-scroll::-webkit-scrollbar{height:6px}
.nav-scroll::-webkit-scrollbar-thumb{background:rgba(255,255,255,.25);border-radius:6px}
.nav-scroll.active-drag{cursor:grabbing}
.nav-scroll a{
  position:relative; z-index:5; color:#fff; white-space:nowrap; text-transform:uppercase; letter-spacing:.03em; font-family:var(--font-sans);
  text-shadow:0 0 6px var(--nav-glow); transition:transform .12s ease,opacity .12s ease; transform-origin:center bottom;
}
.nav-scroll a:hover{opacity:1}
@media (min-width:1024px){
  .nav-scroll:hover a{opacity:.15}
  .nav-scroll a:hover{opacity:1!important;transform:scale(1.5)}
}
.nav-logo{display:flex; align-items:center; justify-content:center; padding:0 .75rem}
.nav-logo img{
  height: 90px; /* CHANGED: Set a fixed height to keep logo size consistent */
  width:auto; display:block; filter:drop-shadow(0 2px 6px rgba(0,0,0,.25));
  transform:translateY(2px);
}

/* MOBILE NAV */
.mobile-only{display:none}
.mobile-bar{
  display:flex; align-items:center; justify-content:space-between; gap:.5rem; width:100%;
  height:var(--header-height); background:var(--nav-bg); color:#fff; padding:0 1.5rem;
  position:sticky; top:0; z-index:1000;
  box-sizing: border-box; /* CHANGED: Ensures padding doesn't cause overflow */
}
.mobile-bar.shrink{height:var(--header-height-shrink); padding:0 1.5rem}
.mobile-logo img{height:32px; width:auto; display:block}

/* Hamburger */
.mobile-menu-toggle{display:inline-flex;align-items:center;justify-content:center;width:42px;height:42px;background:transparent;border:0;cursor:pointer;position:relative}
.mobile-menu-toggle .line{position:absolute;left:6px;right:6px;height:2px;background:#fff;border-radius:2px;transition:transform .25s,opacity .25s}
.mobile-menu-toggle .line:nth-child(1){top:12px}.mobile-menu-toggle .line:nth-child(2){top:20px}.mobile-menu-toggle .line:nth-child(3){top:28px}
.mobile-menu-toggle.active .line:nth-child(1){transform:translateY(8px) rotate(45deg)}
.mobile-menu-toggle.active .line:nth-child(2){opacity:0}
.mobile-menu-toggle.active .line:nth-child(3){transform:translateY(-8px) rotate(-45deg)}

/* Mobile dropdown (sits directly below header) */
.mobile-menu{
  position:fixed; left:0; right:0; top:var(--header-height); bottom:0;
  display:none; flex-direction:column; gap:.25rem; padding:.75rem 1rem 1rem;
  pointer-events:auto; z-index:999;
  background-color: var(--mobile-menu-bg); /* CHANGED: Added 60% opaque background */
  backdrop-filter: blur(4px); /* CHANGED: Added blur effect for modern feel */
}
.mobile-bar.shrink + .mobile-menu{ top:var(--header-height-shrink); }
.mobile-menu.open{ display:flex }
.mobile-menu a{
  opacity: 1; /* CHANGED: Text is now 100% visible */
  transform:translateY(-15px) scale(.97);
  padding:.6rem .5rem; border-radius:8px; text-align:center;
  text-transform:uppercase; letter-spacing:.03em; font-family:var(--font-sans);
  color:#fff; /* CHANGED: Text color changed to white for better contrast */
  background:transparent; text-shadow:0 0 6px var(--nav-glow);
  transition:transform .15s ease,opacity .15s ease;
}
.mobile-menu a.plopped{ animation:plop-in .28s cubic-bezier(.2,.8,.2,1) forwards }
@keyframes plop-in{0%{opacity:.0;transform:translateY(-15px) scale(.97)}70%{opacity:.9;transform:translateY(2px) scale(1.04)}100%{opacity:1;transform:translateY(0) scale(1)}}

/* Visibility rules */
@media (max-width:1023px){ .desktop-only{display:none} .mobile-only{display:block} }
@media (min-width:1024px){ .mobile-only{display:none} }

/* Main content & TOC */
.site-main{padding:1.5rem;max-width:1200px;margin:0 auto}
.issue-block{padding:2rem 0;border-bottom:1px solid var(--color-border)}
.issue-block:last-of-type{border-bottom:none}
.issue-title{font-size:1.1rem;color:var(--color-subtle);margin-bottom:1.5rem;text-align:center}

/* Cover LEFT, contents RIGHT */
.issue-content{display:grid;grid-template-columns:1fr;gap:1.5rem;font-size:1rem}
@media (min-width:1024px){ .issue-content{grid-template-columns:1fr 1fr;gap:2rem;align-items:start} }
.issue-cover img{width:100%;height:auto;max-height:70vh;object-fit:contain;border:1px solid var(--color-border)}
.issue-toc{font-size:1rem}
.issue-toc h3{margin-top:0}
.issue-toc ul{list-style:none;padding:0;margin:0}
.issue-toc li{padding:0;border-bottom:1px solid var(--color-border)}
.issue-toc li:last-child{border-bottom:none}
.issue-toc a{display:block;padding:.75rem .25rem}
.toc-category{display:block;font-size:.8rem;color:var(--color-subtle);margin-bottom:.1rem}
.toc-title{display:block;font-weight:700;font-family:var(--font-sans)}
.issue-toc a:hover .toc-title{font-style:italic}

/* Extras */
.editor-note,.mission-statement{margin-top:2rem;padding-top:1.25rem;border-top:1px solid var(--color-border)}

/* Article */
.article-full{max-width:740px;margin:0 auto}
.article-header{text-align:center;margin-bottom:3rem}
.article-headline{font-size:clamp(2.2rem,10vw,3rem);margin:.25rem 0;font-family:var(--font-sans)}
.article-featured-image{margin:2rem 0}
.article-featured-image img{width:100%;height:auto;max-height:70vh;object-fit:contain;border:1px solid var(--color-border)}
.article-body p{font-size:1.1rem;margin-bottom:1.5rem}

/* Section images */
.section-page img{max-width:100%;height:auto;max-height:60vh;object-fit:contain;border:1px solid var(--color-border)}

/* Footer (desktop default 70/30) */
.site-footer-main{padding:1rem;margin-top:2rem;border-top:1px solid var(--color-border)}
.footer-inner{max-width:1200px;margin:0 auto;display:grid;grid-template-columns:7fr 3fr;gap:1rem;align-items:start;width:100%}
.footer-left{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem}
.footer-right{display:flex;align-items:center;justify-content:flex-end;white-space:nowrap}
.footer-title{color:var(--color-subtle);font-family:var(--font-sans);font-size:.9rem}
.footer-value{font-weight:700;font-family:var(--font-sans)}

/* Footer on mobile: keep 70/30 split, left content stacked */
@media (max-width:767px){
  .footer-inner{grid-template-columns:7fr 3fr}
  .footer-left{grid-template-columns:1fr} /* stack blocks vertically within the 70% column */
}

/* --- Keep the page from ever widening --- */
html { overflow-x: hidden; }

/* --- Safe defaults so images never blow out containers --- */
img, svg, video, canvas {
  max-width: 100%;
  height: auto;
  display: block;
}

/* --- Horizontal article rail (side-by-side) --- */
.article-grid {
  display: flex;
  flex-wrap: nowrap;                     /* all cards on one line */
  gap: clamp(0.75rem, 2vw, 1.25rem);     /* spacing between items */
  overflow-x: auto;                      /* horizontal scroll if they don't fit */
  overscroll-behavior-x: contain;
  -webkit-overflow-scrolling: touch;
  padding: 0.5rem 0.5rem 1rem;
  scroll-snap-type: x proximity;         /* pleasant snap */
  scrollbar-gutter: stable both-edges;   /* avoid layout jump */
}

/* Optional: mild scrollbar polish */
.article-grid::-webkit-scrollbar { height: 10px; }
.article-grid::-webkit-scrollbar-thumb { background: rgba(0,0,0,.2); border-radius: 999px; }
.article-grid::-webkit-scrollbar-track { background: transparent; }

/* --- Cards --- */
.article-card {
  flex: 0 0 clamp(240px, 32vw, 360px);   /* responsive fixed-width cards */
  display: flex;
  flex-direction: column;
  background: #fff;
  border: 1px solid var(--color-border);
  border-radius: 12px;
  overflow: hidden;                      /* contain all content inside the card */
  color: inherit; text-decoration: none;
  scroll-snap-align: start;
}

/* Image containment: reserve height, crop gracefully if needed */
.article-card img {
  width: 100%;
  aspect-ratio: 4 / 2;                   /* prevents layout shift, keeps uniform cards */
  object-fit: cover;                     /* no overflow; crops excess */
}

/* Text spacing */
.article-card-title { margin: 0.75rem 1rem 0.25rem; line-height: 1.2; font-family: var(--font-sans); }
.article-card-byline { margin: 0 1rem 1rem; color: var(--color-subtle); }